=====================================
MagAlpha Evaluation API Documentation
=====================================

Refer to MPS website for hardware information about the evaluation kit:

   `Monolithic Power System Official Website <https://www.monolithicpower.com/>`_

.. warning:: 
   The API v1.1.0 must be used with EVKT-MA-RP-Pico-V2-Q-02A and MA600, MAQ600 sensors.
   All the API files must remain inside the "magalpha_evaluation_api" folder.

Change Log
=====================================

.. list-table::
   :widths: 20 450
   :header-rows: 1

   * - Version
     - Description
   * - 1.0.0
     - Initial version
   * - 1.1.0
     - | Folder 'magalpha_evaluation_api' is now considered as a python package and can be imported like any other python package.
       | Suppressed 'launch_user_calibration' method (too automated, so difficult for customer to do their own calibration sequence).
       | Added 'measure_inl_extract_calibration_table' method (perform the measurement with external reference encoder and return a SensorData data type).
       | Added 'compute_calibration_table_cw_ccw method' (return an averaging of two calibration table in float).
       | Added 'set_etx_ety' & 'get_etx_ety' method for side shaft operation.
       | Highly enhanced the documentation (docstrings and html view).
       | Modified attributes / methods of sub-classes / dependencies to be public, protected or private.

Environement Setup
=====================================

#. Install miniconda & launch it:

   `Miniconda Official Website <https://docs.conda.io/projects/miniconda/en/latest/>`_

#. Create an new environement with python version >= 3.10:

   .. parsed-literal::
      conda create --name envName python==3.10

#. Activate the newly created environement:

   .. parsed-literal::
      conda activate envName

#. Install the required python packages:

   .. parsed-literal::
      conda install -c conda-forge pandas
      conda install -c conda-forge numpy
      conda install -c conda-forge scipy
      conda install -c conda-forge pyserial
      conda install -c conda-forge openpyxl
      conda install -c conda-forge matplotlib

Quick Start
=====================================

#. Connect your evaluation board to your computer with a USB cable.
#. Connect a MA600, MAQ600 sensor to connector reference 'CN1'.
#. Connect an external reference encoder to connector reference 'J4'.
#. Launch your motor.
#. Change the current working directory to point to the unzipped folder where the api folder reside.

   .. parsed-literal::
      cd absolutePathToGivenUnzippedFolder

#. Modify the PPT in the example script to match your reference encoder settings.
#. In case of side-shaft configuration, write BCT settings of the sensor & enable ETX or ETY.
#. Launch the given script example.

   .. parsed-literal::
      python magalpha_evaluation_api_script_example.py

#. The example script will output some values in the terminal and will display a calibration plot.
#. Build your own script. Have fun using the API !

API documentation
=====================================

.. toctree::
   :maxdepth: 2

   modules
